services:
    _defaults:
        autowire: true
        autoconfigure: true

    App\Framework\Domain\Repository\TransactionBoundaryInterface: '@App\Framework\Infrastructure\Doctrine\DbalTransactionBoundary'

    App\Framework\Infrastructure\Doctrine\:
        resource: '../src/Framework/Infrastructure/Doctrine'

    App\RaffleDemo\Raffle\Application\:
        resource: '../src/RaffleDemo/Raffle/Application'

    App\RaffleDemo\Raffle\Domain\Model\Event\RaffleEventFactory: ~

    App\RaffleDemo\Raffle\Domain\Repository\RaffleEventStoreRepository:
        arguments:
            $eventStore: '@App\RaffleDemo\Raffle\Infrastructure\Postgres\Repository\PostgresRaffleEventStore'

    App\RaffleDemo\Raffle\Infrastructure\Postgres\Repository\PostgresRaffleEventStore:
        arguments:
            $aggregateEventFactory: '@App\RaffleDemo\Raffle\Domain\Model\Event\RaffleEventFactory'
            $domain: 'raffle'

    App\RaffleDemo\Raffle\UserInterface\Rest\V1\:
        resource: '../src/RaffleDemo/Raffle/UserInterface/Rest/V1'

